<%shared>
	my $form = $m->comp("/formbuilder/util:get_form");
	my $form_id = $form->getPrimaryKeyID();
</%shared>

<%doc>We don't want to show any report at this point, nor we dont' know that we want to confuse user about report option so we pass an empty string.  The component uses the form_token to build up an appropriate getDefaultReport method.  The defualt is to show Yes/No option which is not the case for SP at the moment.
</%doc>
<& "/formbuilder/author/field:page", args => \%ARGS, form => $form, form_token => '' &>

<%method title>
% 	return $m->comp("/formbuilder/author/field:title");
</%method>

<%method jsarray>
% 	return $m->comp("/formbuilder/author/field:jsarray");
</%method>

<%method get_nav_bar_objects>
% 	return $m->comp("/formbuilder/author/field:get_nav_bar_objects");
</%method>

<%method right_header_text>
% 	return ($form_id) ? [{'txt' => 'Preview', url => '', 'onclick' => "window.open('/sp/author/preview/" . $m->comp("/tmpl/url:get_type_path") . "/$form_id');" } ] : [];
</%method>
